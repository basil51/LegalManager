<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Viewer Test</title>
    <script src="https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .container { max-width: 800px; margin: 0 auto; }
        .pdf-viewer { border: 1px solid #ccc; padding: 10px; margin: 20px 0; }
        .error { color: red; background: #ffe6e6; padding: 10px; border-radius: 4px; }
        .success { color: green; background: #e6ffe6; padding: 10px; border-radius: 4px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>PDF Viewer Test</h1>
        
        <div class="pdf-viewer">
            <h3>Test 1: Sample PDF from Mozilla</h3>
            <div id="pdf-container-1"></div>
        </div>
        
        <div class="pdf-viewer">
            <h3>Test 2: Another Sample PDF</h3>
            <div id="pdf-container-2"></div>
        </div>
    </div>

    <script>
        // Set worker source
        pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://unpkg.com/pdfjs-dist@3.11.174/build/pdf.worker.min.js';

        async function loadPDF(url, containerId) {
            const container = document.getElementById(containerId);
            
            try {
                console.log('Loading PDF from:', url);
                
                const pdf = await pdfjsLib.getDocument(url).promise;
                console.log('PDF loaded successfully, pages:', pdf.numPages);
                
                const page = await pdf.getPage(1);
                const viewport = page.getViewport({ scale: 1.0 });
                
                const canvas = document.createElement('canvas');
                const context = canvas.getContext('2d');
                canvas.height = viewport.height;
                canvas.width = viewport.width;
                
                container.appendChild(canvas);
                
                await page.render({ canvasContext: context, viewport }).promise;
                
                container.innerHTML += '<div class="success">PDF loaded successfully!</div>';
                
            } catch (error) {
                console.error('Error loading PDF:', error);
                container.innerHTML = `<div class="error">Error: ${error.message}</div>`;
            }
        }

        // Load test PDFs
        loadPDF('https://mozilla.github.io/pdf.js/web/compressed.tracemonkey-pldi-09.pdf', 'pdf-container-1');
        loadPDF('https://www.w3.org/WAI/ER/tests/xhtml/testfiles/resources/pdf/dummy.pdf', 'pdf-container-2');
    </script>
</body>
</html>